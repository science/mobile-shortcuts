<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Home Page</title>
    <style>
        body {
            margin: 0;
            padding: 10px;
            background-color: #f5f5f5;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            align-items: flex-start;
            font-family: Arial, sans-serif;
        }
        .link-container {
            margin: 5px;
            flex: 1;
            min-width: 70px; /* Minimum width to have at least 4 items per row on mobile */
            max-width: 120px;
        }
        .link-container a {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: black;
            border: 1px solid #ddd;
            padding: 8px;
            border-radius: 4px;
            background-color: #fff;
            box-shadow: 0px 2px 4px 0px rgba(0,0,0,0.2);
        }
        .link-container img {
            width: auto; /* Adjusted from max-width to width */
            max-height: 64px; /* Control height instead of width for consistent size */
            margin-bottom: 8px;
        }
        .link-container span {
            font-size: 0.65rem;
            text-align: center;
            white-space: nowrap;
            display: block;
            width: 100%; 
            overflow: hidden;
            text-overflow: ellipsis;
        }
        @media (max-width: 600px) {
            .link-container {
                min-width: 22%; /* Allows 4 items per row on small devices */
            }
        }
    </style>
</head>
<body>

<script>
const websites = [
    "arstechnica.com",
    "nytimes.com",
    "washingtonpost.com",
    "theatlantic.com",
    "slate.com",
    "latimes.com",
    "berkeleyside.org",
    "404media.co",
    "theverge.com",
    "gizmodo.com",
    "artsandlettersdaily.com",
    "aeon.co",
    "knowablemagazine.org",
    "lareviewofbooks.org",
    "nybooks.com",
    "themarginalian.org",
    "nautil.us",
    "quantamagazine.org",
    "sciencenews.org",
    "thedriftmag.com",
    "hedgehogreview.com",
    "undark.org",
    "pluralistic.net"
];


function appendLinkElements() {
    const container = document.body;
    
    websites.forEach(site => {
        const linkElement = document.createElement('div');
        linkElement.className = 'link-container';

        const a = document.createElement('a');
        a.href = `https://${site}`;
        a.target = '_blank';
        a.rel = 'noopener noreferrer';

        const img = document.createElement('img');
        img.src = `https://s2.googleusercontent.com/s2/favicons?domain_url=${site}&sz=64`;
        img.alt = `${site} favicon`;
        img.onerror = () => img.src = 'https://via.placeholder.com/64';

        const textSpan = document.createElement('span');
        textSpan.textContent = site;

        a.appendChild(img);
        a.appendChild(textSpan);
        linkElement.appendChild(a);
        container.appendChild(linkElement);
    });
}

appendLinkElements();
</script>

</body>
</html>